<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>    form    </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
    crossorigin="anonymous">

    <style>
select optgroup{
    font-style: normal;
}
    </style>
</head>
<body>

<div class="container">
    <form action="/valahova" method="post">
    
        <!-- Első sor -->
        <div class="row row-cols-1    row-cols-md-2  mt-3   mt-md-3 ">

            <!-- NÉV 1. sor Első oszlop -->
            <div class="   my-2  mt-md-3             ">
                <label for="name" class="form-label">Név</label>
                <input type="text" class="form-control" id="name" placeholder="Hogy hívnak?">
            </div>
    
            <!-- EMAIL 1. sor Második oszlop -->
            <div class="    my-2  mt-md-3                  ">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" placeholder="E-mail címed">
            </div>

            
            <!-- LAKHELY 2. sor 1. oszlop -->
            <div class="    my-2  mt-md-3                 ">
                <label for="select_country" class="form-label">Lakhely (ország)</label>

                <select id="select_country" class="form-select" name="select_country" onchange="fillPlaceholder()" >

                    <option value="" id="empty"> </option>
                    <option value="Hungary" id="hungary">Hungary - Magyarország</option>
                    <optgroup label="Válassz:"  class="form-select">
                    </optgroup>
                  
                </select>
            </div>

            <!-- VÁROS 2. sor 2. oszlop -->
            <div class="   my-2  mt-md-3      ">
                <label for="city" class="form-label">Város</label>

                <input type="text"   list="cities"   class="form-control"  name="city"  id="city"      >
                <!-- <input list="browsers" name="browser" id="browser"> -->
                <datalist id="cities">
                </datalist>
            </div>

            <!-- Harmadik sor -->

            <!-- TELEFONSZÁM 3. sor 1. oszlop -->
            <div class="  my-2  mt-md-3       ">
                <label for="phoneNumber" class="form-label">Telefonszám</label>
                <input type="tel" class="form-control" id="phoneNumber" placeholder="Csak számjegyeket adj meg">
            </div>

            <!-- SZÜLETÉSI DÁTUM 3. sor 2. oszlop -->
            <div class="  my-2  mt-md-3     ">
                <label for="birthDate" class="form-label">Születési dátum</label>
                <input type="date" class="form-control" id="birthDate">
            </div>

            <!-- Negyedik sor -->
       
            <!-- JELSZÓ 4. sor 1. oszlop -->
            <div class="  my-2  mt-md-3      ">
                <label for="password" class="form-label">Jelszó</label>
                <input type="password" class="form-control" id="password" placeholder="Jelszavad">
            </div>

            <!-- JELSZÓ ISMÉT 4. sor 2. oszlop -->
            <div class="  my-2  mt-md-3     ">
                <label for="password_confirmation" class="form-label">Jelszó ismét</label>
                <input type="password" class="form-control" id="password_confirmation" placeholder="Jelszavad ismét">
            </div>

        </div>
    
        <!-- NEMED Radio button -->
        <div class="row          my-4      ">
            <div class="col">

                <label class="mb-2">Nemed:</label>

                <div class="form-check">
                    <input type="radio" class="form-check-input" id="man"
                    name="gender" value="man">
                    <label for="man" class="form-check-label">Férfi</label>
                </div>

                <div class="form-check">
                    <input type="radio" class="form-check-input" id="woman"
                    name="gender" value="woman">
                    <label for="woman" class="form-check-label">Nő</label>
                </div>
                
                <div class="form-check">
                    <input type="radio" class="form-check-input" id="other"
                    name="gender" value="others">
                    <label for="other" class="form-check-label">Egyéb</label>
                </div>
            </div>
        </div>

        <!-- Felhasználási feltételek -->
        <div class="row           mb-4  mb-md-5  ">
            <div class="col">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="aszf" id="aszf">
                    <label class="form-check-label" for="aszf">A Felhasználási feltételeket elfogadom</label>
                </div>
            </div>
        </div>


        <!-- Regisztráció -->
        <div class="row          mb-4       ">
            <div class="col">

                <button class="btn btn-primary col-12" type="submit">Regisztráció</button>

            </div>

        </div>

    </form>

    <div class="row">
        <a href="#" class="text-decoration-none text-center  mb-2 mb-md-1 ">Elfelejtetted a jelszavad?</a>
        <a href="#" class="text-decoration-none text-center  mb-5">Már regisztráltál?</a>
    </div>
</div>

<script>

function fillPlaceholder() {
    document.getElementById('city').placeholder = "Kezdj el gépelni..."
}

    // Load countries
    const select = document.getElementsByClassName('form-select')[1]

    const fillDropdown = data => {
        const eredmeny = data.map( country => {
            return `<option>${country.name} - ${country.native}</option>`
           })
           
        console.log(eredmeny)                     

        select.innerHTML = eredmeny
    }

    fetch('https://backend.ichat.hu/api/countries')
        .then(
            function(response){
                if(response.ok)
                    return response.json()
                else
                throw res;
            })

        .then( result => {
            console.log(result);
            fillDropdown(result);
        })
       
    // Load cities
    const datalist = document.getElementsByTagName('datalist')[0]

    const fillDatalist = data => {
        const eredmeny = data.map( city => {
            return `<option value="${city.name} (${city.state_code})">`
            }).join('')
               
        console.log(eredmeny) 

        datalist.innerHTML = eredmeny
    }
    
    fetch('https://backend.ichat.hu/api/countries/1/cities')
        .then( response => response.json() )
        .then( result => {
            console.log(result);
            fillDatalist(result);
        })
 
</script>
</body>
</html>